{"version":3,"file":"FormTscOptions.js","names":["ts","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","formTscOptions","cmdOptions","overrideCompilerOptions","parsedConfigFile","options","rootNames","fileNames","projectReferences","configFileParsingDiagnostics","getConfigFileParsingDiagnostics","assign","inputFiles","target","ScriptTarget","Latest","module","ModuleKind","CommonJS","allowJs","checkJs"],"sources":["../../../src/ts-compiler/FormTscOptions.ts"],"sourcesContent":["/*\n * Copyright (c) 2022-2024 Huawei Device Co., Ltd.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as ts from 'typescript';\nimport type { CommandLineOptions } from '../../lib/CommandLineOptions';\n\nexport function formTscOptions(\n  cmdOptions: CommandLineOptions,\n  overrideCompilerOptions: ts.CompilerOptions\n): ts.CreateProgramOptions {\n  if (cmdOptions.parsedConfigFile) {\n    const options: ts.CreateProgramOptions = {\n      rootNames: cmdOptions.parsedConfigFile.fileNames,\n      options: cmdOptions.parsedConfigFile.options,\n      projectReferences: cmdOptions.parsedConfigFile.projectReferences,\n      configFileParsingDiagnostics: ts.getConfigFileParsingDiagnostics(cmdOptions.parsedConfigFile)\n    };\n    options.options = Object.assign(options.options, overrideCompilerOptions);\n    return options;\n  }\n  const options: ts.CreateProgramOptions = {\n    rootNames: cmdOptions.inputFiles,\n    options: {\n      target: ts.ScriptTarget.Latest,\n      module: ts.ModuleKind.CommonJS,\n      allowJs: true,\n      checkJs: true\n    }\n  };\n  options.options = Object.assign(options.options, overrideCompilerOptions);\n  return options;\n}\n"],"mappings":";;;;;;AAeA,IAAAA,EAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAiC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAfjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKO,SAASW,cAAcA,CAC5BC,UAA8B,EAC9BC,uBAA2C,EAClB;EACzB,IAAID,UAAU,CAACE,gBAAgB,EAAE;IAC/B,MAAMC,OAAgC,GAAG;MACvCC,SAAS,EAAEJ,UAAU,CAACE,gBAAgB,CAACG,SAAS;MAChDF,OAAO,EAAEH,UAAU,CAACE,gBAAgB,CAACC,OAAO;MAC5CG,iBAAiB,EAAEN,UAAU,CAACE,gBAAgB,CAACI,iBAAiB;MAChEC,4BAA4B,EAAE/B,EAAE,CAACgC,+BAA+B,CAACR,UAAU,CAACE,gBAAgB;IAC9F,CAAC;IACDC,OAAO,CAACA,OAAO,GAAGZ,MAAM,CAACkB,MAAM,CAACN,OAAO,CAACA,OAAO,EAAEF,uBAAuB,CAAC;IACzE,OAAOE,OAAO;EAChB;EACA,MAAMA,OAAgC,GAAG;IACvCC,SAAS,EAAEJ,UAAU,CAACU,UAAU;IAChCP,OAAO,EAAE;MACPQ,MAAM,EAAEnC,EAAE,CAACoC,YAAY,CAACC,MAAM;MAC9BC,MAAM,EAAEtC,EAAE,CAACuC,UAAU,CAACC,QAAQ;MAC9BC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE;IACX;EACF,CAAC;EACDf,OAAO,CAACA,OAAO,GAAGZ,MAAM,CAACkB,MAAM,CAACN,OAAO,CAACA,OAAO,EAAEF,uBAAuB,CAAC;EACzE,OAAOE,OAAO;AAChB","ignoreList":[]}