{"version":3,"file":"TestRunner2.js","names":["_Logger","require","_LoggerImpl","ts","_interopRequireWildcard","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Logger","init","LoggerImpl","enableUseRtLogic","enableCheckTsFile","checkArkTSRunner","TEST_DIR","TAB","runTests","options","readConfigFile","sys","readFile","config","compilerOptions","info","allPath","assign","emitNodeModulesFiles","importsNotUsedAsValues","ImportsNotUsedAsValues","Preserve","module","ModuleKind","ES2020","moduleResolution","ModuleResolutionKind","NodeJs","noEmit","target","ScriptTarget","ES2021","baseUrl","paths","lib","types","etsLoaderPath"],"sources":["../../src/TestRunner2.ts"],"sourcesContent":["/*\n * Copyright (c) 2022-2024 Huawei Device Co., Ltd.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Logger } from '../lib/Logger';\nimport { LoggerImpl } from './LoggerImpl';\nLogger.init(new LoggerImpl());\n\nimport { TypeScriptLinter } from '../lib/TypeScriptLinter';\nimport { InteropTypescriptLinter } from '../lib/InteropTypescriptLinter';\nimport { lint } from '../lib/LinterRunner';\nimport { parseCommandLine } from './CommandLineParser';\nimport type { Autofix } from '../lib/autofixes/Autofixer';\nimport * as fs from 'node:fs';\nimport * as path from 'node:path';\nimport * as ts from 'typescript';\nimport type { CommandLineOptions } from '../lib/CommandLineOptions';\nimport { compileLintOptions } from './Compiler';\nimport { runArkTSLinter } from '../sdk/linter_1_1/RunArkTSLinter';\nimport test from 'node:test';\n\nlet enableUseRtLogic = true;\nlet enableCheckTsFile = false;\nlet checkArkTSRunner = false;\nconst TEST_DIR = 'test';\nconst TAB = '    ';\n// initial configuration\nfunction runTests(): void {\n  const options = ts.readConfigFile('./tsconfig.json', ts.sys.readFile).config.compilerOptions;\n  Logger.info(\"options===\"+ !!options);\n  const allPath = ['*'];\n  Object.assign(options, {\n    emitNodeModulesFiles: true,\n    importsNotUsedAsValues: ts.ImportsNotUsedAsValues.Preserve,\n    module: ts.ModuleKind.ES2020,\n    moduleResolution: ts.ModuleResolutionKind.NodeJs,\n    noEmit: true,\n    target: ts.ScriptTarget.ES2021,\n    baseUrl: '/',\n    paths: {\n      '*': allPath\n    },\n    lib: ['lib.es2021.d.ts'],\n    types: [],\n    etsLoaderPath: 'null_sdkPath'\n  });\n  Logger.info(\"options2===\"+ !!options);\n  \n}\n\nrunTests();\n"],"mappings":"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","ignoreList":[]}